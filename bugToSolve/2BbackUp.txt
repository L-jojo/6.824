[root@VM-8-7-centos raft]# go test -run TestBackup2B
2023/01/19 18:45:54 [Raft :0] has been disconnected
2023/01/19 18:45:54 [Raft :1] has been disconnected
2023/01/19 18:45:54 [Raft :2] has been disconnected
2023/01/19 18:45:54 [Raft :3] has been disconnected
2023/01/19 18:45:54 [Raft :4] has been disconnected
2023/01/19 18:45:54 [Raft :0] has been connected
2023/01/19 18:45:54 [Raft :1] has been connected
2023/01/19 18:45:54 [Raft :2] has been connected
2023/01/19 18:45:54 [Raft :3] has been connected
2023/01/19 18:45:54 [Raft :4] has been connected
Test (2B): leader backs up quickly over incorrect follower logs ...
2023/01/19 18:45:55 [Raft :4] has been disconnected
2023/01/19 18:45:55 [Raft :0] has been disconnected
2023/01/19 18:45:55 [Raft :1] has been disconnected
2023/01/19 18:45:55 执行到第一挡位了
2023/01/19 18:45:55 [Raft :2] has been disconnected
2023/01/19 18:45:55 [Raft :3] has been disconnected
2023/01/19 18:45:55 [Raft :4] has been connected
2023/01/19 18:45:55 [Raft :0] has been connected
2023/01/19 18:45:55 [Raft :1] has been connected
2023/01/19 18:45:55 执行到第二挡位了
2023/01/19 18:46:03 执行到第三挡位了
2023/01/19 18:46:04 [Raft :4] has been disconnected
2023/01/19 18:46:04 执行到第四挡位了
2023/01/19 18:46:04 [Raft :0] has been disconnected
2023/01/19 18:46:04 [Raft :1] has been disconnected
2023/01/19 18:46:04 [Raft :2] has been disconnected
2023/01/19 18:46:04 [Raft :3] has been disconnected
2023/01/19 18:46:04 [Raft :4] has been disconnected
2023/01/19 18:46:04 [Raft :2] has been connected
2023/01/19 18:46:04 [Raft :3] has been connected
2023/01/19 18:46:04 [Raft :4] has been connected
2023/01/19 18:46:04 执行到第五挡位了
2023/01/19 18:46:04 raft [0]'s detail is following: currentTerm is 2 ; state is 2 ; log length is 102, commit index is 51 ; 
2023/01/19 18:46:04 raft [1]'s detail is following: currentTerm is 2 ; state is 0 ; log length is 102, commit index is 51 ; 
2023/01/19 18:46:04 raft [2]'s detail is following: currentTerm is 1 ; state is 0 ; log length is 52, commit index is 1 ; 
2023/01/19 18:46:04 raft [3]'s detail is following: currentTerm is 28 ; state is 1 ; log length is 52, commit index is 1 ; 
2023/01/19 18:46:04 raft [4]'s detail is following: currentTerm is 2 ; state is 2 ; log length is 52, commit index is 51 ; 
2023/01/19 18:46:07 raft [0]'s detail is following: currentTerm is 9 ; state is 1 ; log length is 102, commit index is 51 ; 
2023/01/19 18:46:07 raft [1]'s detail is following: currentTerm is 2 ; state is 0 ; log length is 102, commit index is 51 ; 
2023/01/19 18:46:07 raft [2]'s detail is following: currentTerm is 32 ; state is 2 ; log length is 104, commit index is 52 ; 
2023/01/19 18:46:07 raft [3]'s detail is following: currentTerm is 32 ; state is 2 ; log length is 104, commit index is 52 ; 
2023/01/19 18:46:07 raft [4]'s detail is following: currentTerm is 32 ; state is 0 ; log length is 53, commit index is 52 ; 
2023/01/19 18:46:07 raft [0]'s detail is following: currentTerm is 10 ; state is 1 ; log length is 102, commit index is 51 ; 
2023/01/19 18:46:07 raft [1]'s detail is following: currentTerm is 2 ; state is 0 ; log length is 102, commit index is 51 ; 
2023/01/19 18:46:07 raft [2]'s detail is following: currentTerm is 32 ; state is 2 ; log length is 55, commit index is 53 ; 
2023/01/19 18:46:07 raft [3]'s detail is following: currentTerm is 32 ; state is 2 ; log length is 55, commit index is 53 ; 
2023/01/19 18:46:07 raft [4]'s detail is following: currentTerm is 32 ; state is 0 ; log length is 54, commit index is 53 ; 
2023/01/19 18:46:08 
2: log map[1:6834751418759879591 2:30982150257788043 3:4755167412693575402 4:1785084060209058572 5:4302076987612895866 6:2349957537413650253 7:7612084862157034727 8:7782091976146354964 9:3206305156300048377 10:6964608172415275588 11:3074026991136917363 12:6168932609978639066 13:2129579553885405292 14:330858532403028654 15:7174973592794219005 16:2480230975498720211 17:4342440814804402905 18:2604730508885614200 19:5790109507512228638 20:9175669738164636772 21:3693688751080354159 22:7799702488609263259 23:112510635203174798 24:7010354813507640406 25:7059333422883363802 26:1950377073050785463 27:1703976397795388037 28:5281140447982893486 29:1467945934348726526 30:4946410310852239592 31:6968709385157206659 32:8260865232462910600 33:6411699943528422507 34:6729690371178789850 35:8180003917885434798 36:555723158135342282 37:291665922351968813 38:246583916302495417 39:4414879426037115564 40:5186308686030451373 41:5931751885626726019 42:661890762373878774 43:2579716250673784257 44:4648068199719584192 45:2801332314620019404 46:6749914773620969037 47:4971108932264608655 48:1007388316505685385 49:2777574052030570456 50:1209893492452681198 51:7415005354801005335 52:3334788587485719822 53:685789838721078566];
 
server map[1:6834751418759879591 2:30982150257788043 3:4755167412693575402 4:1785084060209058572 5:4302076987612895866 6:2349957537413650253 7:7612084862157034727 8:7782091976146354964 9:3206305156300048377 10:6964608172415275588 11:3074026991136917363 12:6168932609978639066 13:2129579553885405292 14:330858532403028654 15:7174973592794219005 16:2480230975498720211 17:4342440814804402905 18:2604730508885614200 19:5790109507512228638 20:9175669738164636772 21:3693688751080354159 22:7799702488609263259 23:112510635203174798 24:7010354813507640406 25:7059333422883363802 26:1950377073050785463 27:1703976397795388037 28:5281140447982893486 29:1467945934348726526 30:4946410310852239592 31:6968709385157206659 32:8260865232462910600 33:6411699943528422507 34:6729690371178789850 35:8180003917885434798 36:555723158135342282 37:291665922351968813 38:246583916302495417 39:4414879426037115564 40:5186308686030451373 41:5931751885626726019 42:661890762373878774 43:2579716250673784257 44:4648068199719584192 45:2801332314620019404 46:6749914773620969037 47:4971108932264608655 48:1007388316505685385 49:2777574052030570456 50:1209893492452681198 51:7415005354801005335 52:3334788587485719822 53:685789838721078566 54:7839526614605374658]
2023/01/19 18:46:08 apply error: commit index=54 server=2 685789838721078566 != server=4 7839526614605374658
exit status 1
FAIL    6.824/raft      13.988s
